schema: '2.0'
stages:
  download:
    cmd: python data_pipeline/scripts/download_data.py
    deps:
    - path: data_pipeline/data/url.json
      hash: md5
      md5: 907239af3d26329713e06719c419a913
      size: 3691
    - path: data_pipeline/scripts/download_data.py
      hash: md5
      md5: 2e14f1d3709454cb52186b6cad7febf7
      size: 4048
    outs:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 4c099a8f15556675ee46dc6531983dfd.dir
      size: 21277775
      nfiles: 18
  parse:
    cmd: python data_pipeline/scripts/pdf_parser.py
    deps:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 4c099a8f15556675ee46dc6531983dfd.dir
      size: 21277775
      nfiles: 18
    - path: data_pipeline/scripts/pdf_parser.py
      hash: md5
      md5: 5c01f7e61b11858ae56f8ff51cfdfc8e
      size: 31021
    outs:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: fa58c38b79dc618e5f0e820a1bf5cda8.dir
      size: 1842500
      nfiles: 18
  preprocess:
    cmd: python data_pipeline/scripts/preprocess.py
    deps:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: fa58c38b79dc618e5f0e820a1bf5cda8.dir
      size: 1842500
      nfiles: 18
    - path: data_pipeline/scripts/preprocess.py
      hash: md5
      md5: 519d10d8004526c8c00eae5e7043f82b
      size: 11322
    outs:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 3cfd0160b6eff4602d8bd909c7afaa6c.dir
      size: 1986477
      nfiles: 18
  chunk:
    cmd: python data_pipeline/scripts/chunker.py
    deps:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 3cfd0160b6eff4602d8bd909c7afaa6c.dir
      size: 1986477
      nfiles: 18
    - path: data_pipeline/scripts/chunker.py
      hash: md5
      md5: 8ddf878601c621bca30e81a46d14278c
      size: 12239
    outs:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: b62dd1325a2995fa7740c147a0fb33b8.dir
      size: 2121878
      nfiles: 18
  validate:
    cmd: python data_pipeline/scripts/validate_data.py
    deps:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: b62dd1325a2995fa7740c147a0fb33b8.dir
      size: 2121878
      nfiles: 18
    - path: data_pipeline/scripts/validate_data.py
      hash: md5
      md5: ca7f2a318aab27a035afd9794e1b52ac
      size: 9737
    outs:
    - path: data_pipeline/data/validated
      hash: md5
      md5: 7d98d8ac3aa93bb58799c1d1270c22ae.dir
      size: 2111680
      nfiles: 4
  store_in_chromadb:
    cmd: python data_pipeline/scripts/store_in_chromadb.py
    deps:
    - path: data_pipeline/data/validated/valid_chunks.jsonl
      hash: md5
      md5: 1c0f852cf4b13cb09853f64b81267987
      size: 2105411
    - path: data_pipeline/scripts/store_in_chromadb.py
      hash: md5
      md5: b34646df52743a82d1f4ba09f8202c09
      size: 4195
    outs:
    - path: data_pipeline/data/vector_db
      hash: md5
      md5: 641cba1c715c2812de357bfde48c8bdd.dir
      size: 14475428
      nfiles: 5
