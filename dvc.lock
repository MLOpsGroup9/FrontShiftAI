schema: '2.0'
stages:
  download:
    cmd: python data_pipeline/scripts/download_data.py
    deps:
    - path: data_pipeline/data/url.json
      hash: md5
      md5: 2d4e46862652d29f80d720f5ff66eba4
      size: 729
    - path: data_pipeline/scripts/download_data.py
      hash: md5
      md5: 2e14f1d3709454cb52186b6cad7febf7
      size: 4048
    outs:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 466a8c694db9b808f59e5af34162a1b3.dir
      size: 4097324
      nfiles: 4
  parse:
    cmd: python data_pipeline/scripts/pdf_parser.py
    deps:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 466a8c694db9b808f59e5af34162a1b3.dir
      size: 4097324
      nfiles: 4
    - path: data_pipeline/scripts/pdf_parser.py
      hash: md5
      md5: 3f160519f8e7cfbd30def8c787d25b40
      size: 10369
    outs:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: 767bf5274cf484643de9c03833b9ab09.dir
      size: 850084
      nfiles: 4
  preprocess:
    cmd: python data_pipeline/scripts/preprocess.py
    deps:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: 767bf5274cf484643de9c03833b9ab09.dir
      size: 850084
      nfiles: 4
    - path: data_pipeline/scripts/preprocess.py
      hash: md5
      md5: 519d10d8004526c8c00eae5e7043f82b
      size: 11322
    outs:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: ccefe6194a3fa0d2be521626c724cc88.dir
      size: 871469
      nfiles: 4
  chunk:
    cmd: python data_pipeline/scripts/chunker.py
    deps:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: ccefe6194a3fa0d2be521626c724cc88.dir
      size: 871469
      nfiles: 4
    - path: data_pipeline/scripts/chunker.py
      hash: md5
      md5: 8ddf878601c621bca30e81a46d14278c
      size: 12239
    outs:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: 8f8c61665aea9705888b5661d7640bd2.dir
      size: 964860
      nfiles: 4
  validate:
    cmd: python data_pipeline/scripts/validate_data.py
    deps:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: 8f8c61665aea9705888b5661d7640bd2.dir
      size: 964860
      nfiles: 4
    - path: data_pipeline/scripts/validate_data.py
      hash: md5
      md5: ca7f2a318aab27a035afd9794e1b52ac
      size: 9737
    outs:
    - path: data_pipeline/data/validated
      hash: md5
      md5: 2197c706a082888cb197823497c85365.dir
      size: 964607
      nfiles: 4
  store_in_chromadb:
    cmd: python data_pipeline/scripts/store_in_chromadb.py
    deps:
    - path: data_pipeline/data/validated/valid_chunks.jsonl
      hash: md5
      md5: 7cd6b4f60dfa9158a8843347097d51c8
      size: 961947
    - path: data_pipeline/scripts/store_in_chromadb.py
      hash: md5
      md5: 4264e3e16b997e938099ca7203722546
      size: 4562
    outs:
    - path: data_pipeline/data/vector_db
      hash: md5
      md5: 2c169c51e2035b86542015041b789749.dir
      size: 7098532
      nfiles: 5
  bias_analysis:
    cmd: python data_pipeline/scripts/data_bias.py
    deps:
    - path: data_pipeline/data/validated/valid_chunks.jsonl
      hash: md5
      md5: 7cd6b4f60dfa9158a8843347097d51c8
      size: 961947
    - path: data_pipeline/scripts/data_bias.py
      hash: md5
      md5: 9c3c7506745ba9bebaedf6381b7bd5fe
      size: 18911
    outs:
    - path: data_pipeline/data/bias_analysis
      hash: md5
      md5: fd68c27af954e0ea1cf7a1e978ae6d51.dir
      size: 945867
      nfiles: 13
