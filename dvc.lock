schema: '2.0'
stages:
  extract:
    cmd: PYTHONPATH=. python data_pipeline/scripts/data_extraction.py
    deps:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 4256c18c4d8d09bc7515ac91537d7ca3.dir
      size: 4819879
      nfiles: 5
    - path: data_pipeline/scripts/data_extraction.py
      hash: md5
      md5: 2d634209cccc724312bb97b00bb1c708
      size: 4059
    outs:
    - path: data_pipeline/data/extracted
      hash: md5
      md5: f5d050f112f72bb1b17709c528279b26.dir
      size: 791308
      nfiles: 2
  preprocess:
    cmd: PYTHONPATH=. python data_pipeline/scripts/preprocess.py
    deps:
    - path: data_pipeline/data/extracted
      hash: md5
      md5: f5d050f112f72bb1b17709c528279b26.dir
      size: 791308
      nfiles: 2
    - path: data_pipeline/scripts/preprocess.py
      hash: md5
      md5: cc24ea089e87b94173b7c42b1a45f0b3
      size: 3251
    outs:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 5d95df2c84a8443b91371daca27c8830.dir
      size: 626511
      nfiles: 1
  embed:
    cmd: PYTHONPATH=. python data_pipeline/scripts/store_in_chromadb.py
    deps:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 5d95df2c84a8443b91371daca27c8830.dir
      size: 626511
      nfiles: 1
    - path: data_pipeline/scripts/store_in_chromadb.py
      hash: md5
      md5: 829fa8f8d81c8de8947b348ce8d75fbc
      size: 2809
    outs:
    - path: data_pipeline/data/vector_db
      hash: md5
      md5: c197186765a442cfb9589b168d2c3cfc.dir
      size: 8143012
      nfiles: 5
  validate:
    cmd: PYTHONPATH=. python data_pipeline/scripts/validate_data.py
    deps:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 5d95df2c84a8443b91371daca27c8830.dir
      size: 626511
      nfiles: 1
    - path: data_pipeline/scripts/validate_data.py
      hash: md5
      md5: 35ad78cdd961f47e6813f270d3d5d2ac
      size: 3929
    outs:
    - path: data_pipeline/data/validated_policies
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data_pipeline/logs/validation_report.csv
      hash: md5
      md5: 2ebcddff3acb4c6635f4d8cdb79e4332
      size: 48
