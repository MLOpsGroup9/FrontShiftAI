schema: '2.0'
stages:
  download:
    cmd: python data_pipeline/scripts/download_data.py
    deps:
    - path: data_pipeline/data/url.json
      hash: md5
      md5: 907239af3d26329713e06719c419a913
      size: 3691
    - path: data_pipeline/scripts/download_data.py
      hash: md5
      md5: 2e14f1d3709454cb52186b6cad7febf7
      size: 4048
    outs:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 4c099a8f15556675ee46dc6531983dfd.dir
      size: 21277775
      nfiles: 18
  parse:
    cmd: python data_pipeline/scripts/pdf_parser.py
    deps:
    - path: data_pipeline/data/raw
      hash: md5
      md5: 4c099a8f15556675ee46dc6531983dfd.dir
      size: 21277775
      nfiles: 18
    - path: data_pipeline/scripts/pdf_parser.py
      hash: md5
      md5: 3f160519f8e7cfbd30def8c787d25b40
      size: 10369
    outs:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: 438aa1b89d3effe42294d5469062f2a3.dir
      size: 3791960
      nfiles: 18
  preprocess:
    cmd: python data_pipeline/scripts/preprocess.py
    deps:
    - path: data_pipeline/data/parsed
      hash: md5
      md5: 438aa1b89d3effe42294d5469062f2a3.dir
      size: 3791960
      nfiles: 18
    - path: data_pipeline/scripts/preprocess.py
      hash: md5
      md5: 519d10d8004526c8c00eae5e7043f82b
      size: 11322
    outs:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 901837071b85670430645cb4bae5017d.dir
      size: 4043716
      nfiles: 18
  chunk:
    cmd: python data_pipeline/scripts/chunker.py
    deps:
    - path: data_pipeline/data/cleaned
      hash: md5
      md5: 901837071b85670430645cb4bae5017d.dir
      size: 4043716
      nfiles: 18
    - path: data_pipeline/scripts/chunker.py
      hash: md5
      md5: 8ddf878601c621bca30e81a46d14278c
      size: 12239
    outs:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: 4aa6078c7d6a927ad34770d31ee367cf.dir
      size: 4353161
      nfiles: 18
  validate:
    cmd: python data_pipeline/scripts/validate_data.py
    deps:
    - path: data_pipeline/data/chunked
      hash: md5
      md5: 4aa6078c7d6a927ad34770d31ee367cf.dir
      size: 4353161
      nfiles: 18
    - path: data_pipeline/scripts/validate_data.py
      hash: md5
      md5: ca7f2a318aab27a035afd9794e1b52ac
      size: 9737
    outs:
    - path: data_pipeline/data/validated
      hash: md5
      md5: 8013eaeae18b950c1740614bfa8fb659.dir
      size: 4350007
      nfiles: 4
  store_in_chromadb:
    cmd: python data_pipeline/scripts/store_in_chromadb.py
    deps:
    - path: data_pipeline/data/validated/valid_chunks.jsonl
      hash: md5
      md5: adb3d9f850ef4d6bed13b2959e0b59b3
      size: 4341690
    - path: data_pipeline/scripts/store_in_chromadb.py
      hash: md5
      md5: 4264e3e16b997e938099ca7203722546
      size: 4562
    outs:
    - path: data_pipeline/data/vector_db
      hash: md5
      md5: 15fa29946be1e9d89ee9919f49f3bc73.dir
      size: 28557476
      nfiles: 5
